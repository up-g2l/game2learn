<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">
    <!--<link rel="icon" href="../../favicon.ico">-->

   
    <!-- Bootstrap core CSS -->
    <link href="../bootstrap/css/bootstrap.min.css" rel="stylesheet">
     <link href="../css/g2l_boot.css" rel="stylesheet">

      <title>G2L: Sign up</title>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug --
    <link href="../../assets/css/ie10-viewport-bug-workaround.css" rel="stylesheet">-->

    <!-- Custom styles for this template --
    <link href="starter-template.css" rel="stylesheet">-->

    <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
    <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]--
    <script src="../../assets/js/ie-emulation-modes-warning.js"></script>-->

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>

    <nav class="navbar navbar-default navbar-static-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
            <a href="#" class="navbar-left"><img src="../images/g2l_Logo.png" alt="logo" class="image_responsive" style="height:3.4em;"></a>
        </div>
        <div id="navbar" class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
            <li ><a href="../index.jsp">Home</a></li>
            <li><a href="#">Contact</a></li>

          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </nav>

    <div class="container">
     <div id="divLoginStatus" class="alert alert-info" role="alert"> Welcome to the smart learning system.</div>
                      <div id="newUserSignUp3" class="col-md-8 col-sm-10 col-xs-10 form-group" style="margin:auto; float:none;">
                                  <h4>Please sign up.</h4>
                        <hr>
                        <form name="loginForm" method="post" action="../authenticate"><input type="hidden" name="queryType" id="queryType"/>
                                <div class="row">
                                    <div class="col-md-6 col-sm-6 col-xs-12 form-group">
                                        <input class="form-control" type="text" name="userName" id="userName"  placeholder="Your name: First Last" />
                                    </div>
                                    <div class="col-md-6 col-sm-6 col-xs-12 form-group">
                                        <input class="form-control" type="number" name="signupId" id="signupId"    placeholder="Login: Please provide your banner id"  />
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6 col-sm-6 col-xs-12 form-group">
                                        <input class="form-control" type="email" name="email" id="email"   placeholder="Please provide your .edu email id"  />
                                    </div>
                                    <div class="col-md-6 col-sm-6 col-xs-12 form-group">
                                        <input class="form-control" type="email" name="emailConf" id="emailConf"   placeholder="Re-enter email id"  />
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6 col-sm-6 col-xs-12 form-group">
                                        <input class="form-control" type="password" name="signupPass1"  id="signupPass1"   placeholder="Password" />
                                    </div>
                                    <div class="col-md-6 col-sm-6 col-xs-12 form-group">
                                        <input class="form-control" type="password" name="signupPass2"  id="signupPass2"  placeholder="Re-enter Password" />
                                    </div>
                                </div>  
                            <!--<small>Please note that password are not saved in the database.</small>-->
                            <button class="btn btn-primary btn-block" onclick="signup()"> Sign up</button>
                        </form>                       
                    </div>   
    <!--    
        <div class="row">
            <form  role="form">
            <div class="col-md-6 col-xs-12">
                
                    <div class="form-group">
                            <label for="exampleInputEmail1">Email address</label>
                            <input type="email" class="form-control" id="exampleInputEmail1" placeholder="Enter email">
                    </div>
                    <div class="form-group">
                            <label for="exampleInputPassword1">Password</label>
                            <input type="password" class="form-control" id="exampleInputPassword1" placeholder="Password">
                    </div>
            </div>
            <div class="col-md-6 col-xs-12">								
                <div class="form-group">
                            <label for="exampleInputEmail1">Email address</label>
                            <input type="email" class="form-control" id="exampleInputEmail1" placeholder="Enter email">
                    </div>
                    <div class="form-group">
                            <label for="exampleInputPassword1">Password</label>
                            <input type="password" class="form-control" id="exampleInputPassword1" placeholder="Password">
                    </div>
                    <div class="checkbox">
                            <label>
                                    <input type="checkbox"> Check me out
                            </label>
                    </div>
                    <button type="submit" class="btn-u btn-u-blue">Submit</button>               
            </div>
           </form>
        </div> -->
             <br><br>
            <footer>
                <div class="footer_main1" style="vertical-align: middle;text-align: center;">
                <p>Copyright &copy; 2016 Upendra Prasad. Disclaimer: </p>
            </div>
            </footer>

    </div><!-- /.container -->


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="../bootstrap/js/jquery.min.js"><\/script>')</script>
    <script src="../bootstrap/js/bootstrap.min.js"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug --
    <script src="../../assets/js/ie10-viewport-bug-workaround.js"></script>-->
     <script>
            var loginStatus = '${param.status}';
            //console.log(loginStatus);
            var msgStatus = '${param.message}';
            $(function(){
                checkLoginStatus();
                $(document).mouseup(function (e){
                    var container = $('#forgotPass');

                    if (!container.is(e.target) && container.has(e.target).length == 0) // ... nor a descendant of the container
                    {
                        container.slideUp('slow');
                    }
                });
            });
            


            function checkLoginStatus(){
                var eleLoginStatus = document.getElementById('divLoginStatus');
                if(loginStatus!=''){
                    if(loginStatus=='2'){ eleLoginStatus.innerHTML = 'Incorrect Login. Please try again.'; }
                    if(loginStatus=='0'){ eleLoginStatus.innerHTML = 'Incorrect Password. Please try again.'; }
                    if(loginStatus=='3'){ eleLoginStatus.innerHTML = 'Session Expired. Please re-login.'; }
                    if(loginStatus=='10'){ eleLoginStatus.innerHTML='You are now signed up. Please login.'; }
                    if(loginStatus=='9'){ eleLoginStatus.innerHTML=msgStatus; }
                }
                else { eleLoginStatus.innerHTML = 'Welcome. Please login to proceed.'; }
                setTimeout(function(){eleLoginStatus.style.display='none';}, 10000)
            }
          
            function signup(){
                var message="Corrections needed:";
                var error=false;
                if($('#userName').val()==''){message = message+"Please provide your name; ";error=true;}
                if($('#signupId').val()==''){message = message+"Please provide a valid login id; ";error=true;}
                else if($('#signupPass1').val()!=$('#signupPass2').val()){message = message+"The passwords do not match; "; error=true;}
                else if(!isEmail(document.getElementById('email'))){message = message+"Not a valid email; ";error=true;}
                else if($('#email').val()!=$('#emailConf').val()){ message = message +"The emails do not match; ";error=true; }
                if(error){
                    var eleLoginStatus = document.getElementById('divLoginStatus');
                    eleLoginStatus.style.display='block';
                    eleLoginStatus.style.color='red';
                    eleLoginStatus.innerHTML = message; 
                    setTimeout(function(){eleLoginStatus.style.display='none';}, 10000);
                    event.preventDefault();
                }  else { 
                    $('#queryType').val('signup'); 
                    var frmEle = document.getElementsByName('loginForm')[0];frmEle.submit();}          
            }
          
            function isEmail(email) {
                var regex = /^([\w-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\w-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/;
                return regex.test(email.value);
            }
        </script>
  </body>
</html>
